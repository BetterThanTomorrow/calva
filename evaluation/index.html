


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Learn how to use Calva to boost your Clojure and ClojureScript coding in VS Code.">
      
      
        <link rel="canonical" href="https://calva.io/evaluation/">
      
      
      <link rel="shortcut icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.0.1">
    
    
      
        <title>Code Evaluation - Calva User Guide</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.c3000690.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#code-evaluation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://calva.io" title="Calva User Guide" class="md-header-nav__button md-logo" aria-label="Calva User Guide">
      
  <img src="../img/calva-symbol-white.svg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Calva User Guide
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Code Evaluation
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/BetterThanTomorrow/calva/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Calva
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://calva.io" title="Calva User Guide" class="md-nav__button md-logo" aria-label="Calva User Guide">
      
  <img src="../img/calva-symbol-white.svg" alt="logo">

    </a>
    Calva User Guide
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/BetterThanTomorrow/calva/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Calva
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Welcome!" class="md-nav__link">
      Welcome!
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Start Here
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Start Here" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Start Here
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../connect/" title="Connect Calva to Your Project" class="md-nav__link">
      Connect Calva to Your Project
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../try-first/" title="Something to Try First (After Connecting)" class="md-nav__link">
      Something to Try First (After Connecting)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../finding-commands/" title="Finding Calva Commands" class="md-nav__link">
      Finding Calva Commands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../eval-tips/" title="Code Evaluation" class="md-nav__link">
      Code Evaluation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../why-calva/" title="Why Calva?" class="md-nav__link">
      Why Calva?
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Features
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Features" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Features
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../commands-top10/" title="The Top 10 Calva Commands" class="md-nav__link">
      The Top 10 Calva Commands
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Code Evaluation
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,9H17V7H3V9M3,13H17V11H3V13M3,17H17V15H3V17M19,17H21V15H19V17M19,7V9H21V7H19M19,13H21V11H19V13Z" /></svg>
        </span>
      </label>
    
    <a href="./" title="Code Evaluation" class="md-nav__link md-nav__link--active">
      Code Evaluation
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#evaluation-in-a-file-editor" class="md-nav__link">
    Evaluation in a File Editor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wait-current-form-top-level-form" class="md-nav__link">
    Wait, Current Form? Top-level Form?
  </a>
  
    <nav class="md-nav" aria-label="Wait, Current Form? Top-level Form?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#current-form" class="md-nav__link">
    Current Form
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#current-top-level-form" class="md-nav__link">
    Current Top-level Form
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate-to-cursor" class="md-nav__link">
    Evaluate to Cursor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate-top-level-form-to-cursor" class="md-nav__link">
    Evaluate Top Level Form to Cursor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate-enclosing-form" class="md-nav__link">
    Evaluate Enclosing Form
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copying-the-inline-results" class="md-nav__link">
    Copying the inline results
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluating-in-a-repl-window" class="md-nav__link">
    Evaluating in a REPL window
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rich-comments/" title="Rich Comments Support" class="md-nav__link">
      Rich Comments Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../output/" title="The Output/REPL Window/File" class="md-nav__link">
      The Output/REPL Window/File
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../formatting/" title="Formatting" class="md-nav__link">
      Formatting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../paredit/" title="Paredit – a Visual Guide" class="md-nav__link">
      Paredit – a Visual Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../debugger/" title="Debugger" class="md-nav__link">
      Debugger
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pprint/" title="Pretty Printing" class="md-nav__link">
      Pretty Printing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../refactoring/" title="Refactoring" class="md-nav__link">
      Refactoring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../test-runner/" title="Test Runner" class="md-nav__link">
      Test Runner
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../connect-sequences/" title="REPL Jack-in and Connection Sequences" class="md-nav__link">
      REPL Jack-in and Connection Sequences
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../custom-commands/" title="Custom REPL Commands" class="md-nav__link">
      Custom REPL Commands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../linting/" title="Linting" class="md-nav__link">
      Linting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../namespace-form-auto-creation/" title="Namespace Form Auto-creation" class="md-nav__link">
      Namespace Form Auto-creation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../clojure-lsp/" title="Clojure-lsp" class="md-nav__link">
      Clojure-lsp
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../customizing/" title="Customizing Calva" class="md-nav__link">
      Customizing Calva
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Using Calva with X
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Using Calva with X" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Using Calva with X
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../rebl/" title="How to Use Calva and REBL Together" class="md-nav__link">
      How to Use Calva and REBL Together
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reveal/" title="How to use Calva and Reveal together" class="md-nav__link">
      How to use Calva and Reveal together
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vim/" title="Calva and the VIM Extension" class="md-nav__link">
      Calva and the VIM Extension
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../wsl/" title="Calva ❤️ WSL" class="md-nav__link">
      Calva ❤️ WSL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../remote-development/" title="Using Calva with Remote Development" class="md-nav__link">
      Using Calva with Remote Development
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../live-share/" title="Using Calva with Live Share" class="md-nav__link">
      Using Calva with Live Share
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../luminus/" title="How to Use Calva with Luminus" class="md-nav__link">
      How to Use Calva with Luminus
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../re-frame-template/" title="How to Use Calva With the re-frame Template" class="md-nav__link">
      How to Use Calva With the re-frame Template
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../polylith/" title="How to Use Calva with Polylith" class="md-nav__link">
      How to Use Calva with Polylith
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../krell/" title="Using Calva With Krell" class="md-nav__link">
      Using Calva With Krell
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../static-only/" title="Use Calva w/o the REPL" class="md-nav__link">
      Use Calva w/o the REPL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../parinfer/" title="Using Calva with Parinfer" class="md-nav__link">
      Using Calva with Parinfer
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Etcetera
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Etcetera" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Etcetera
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../workspace-layouts/" title="Workspace Layouts" class="md-nav__link">
      Workspace Layouts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../quirks/" title="Quirks" class="md-nav__link">
      Quirks
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      In Depth
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="In Depth" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        In Depth
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../jack-in-guide/" title="Learn about Calva Jack-in" class="md-nav__link">
      Learn about Calva Jack-in
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Guides
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Guides" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../get-started-with-clojure/" title="Get Started with Clojure" class="md-nav__link">
      Get Started with Clojure
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tao/" title="The Tao of Calva" class="md-nav__link">
      The Tao of Calva
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contribute/" title="Contribute to Calva" class="md-nav__link">
      Contribute to Calva
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../sponsors/" title="Calva Sponsors" class="md-nav__link">
      Calva Sponsors
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../merch/" title="Calva Merch" class="md-nav__link">
      Calva Merch
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#evaluation-in-a-file-editor" class="md-nav__link">
    Evaluation in a File Editor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wait-current-form-top-level-form" class="md-nav__link">
    Wait, Current Form? Top-level Form?
  </a>
  
    <nav class="md-nav" aria-label="Wait, Current Form? Top-level Form?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#current-form" class="md-nav__link">
    Current Form
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#current-top-level-form" class="md-nav__link">
    Current Top-level Form
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate-to-cursor" class="md-nav__link">
    Evaluate to Cursor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate-top-level-form-to-cursor" class="md-nav__link">
    Evaluate Top Level Form to Cursor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate-enclosing-form" class="md-nav__link">
    Evaluate Enclosing Form
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copying-the-inline-results" class="md-nav__link">
    Copying the inline results
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluating-in-a-repl-window" class="md-nav__link">
    Evaluating in a REPL window
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/BetterThanTomorrow/calva/edit/published/docs/site/evaluation.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" /></svg>
                  </a>
                
                
                  
                
                
                <h1 id="code-evaluation">Code Evaluation</h1>
<p>Calva tries to make it easy to evaluate code, supporting interactive development. The fastest path to learning about it is to use the <strong>Fire up the Getting Started REPL</strong> command, which you can learn more about in the <a href="../getting-started/">Getting Started</a> section.</p>
<p>NB: <em>The below assumes you have read about <a href="../finding-commands/">Finding Calva Commands and Shortcuts</a>.</em></p>
<h2 id="evaluation-in-a-file-editor">Evaluation in a File Editor</h2>
<p>Calva has many commands for evaluating forms, including the <strong>current form</strong> and the <strong>current top-level form</strong>.</p>
<p>Some of the commands also let you choose what should happen with the results:</p>
<ol>
<li><strong>Inline.</strong> This will display the results (or some of it, if it is long) inline in the editor.<ul>
<li>This also creates a hover pane including the full results and a button which will copy the results to the clipboard.</li>
<li>There is also a command for copying the last result to the clipboard.</li>
<li>The full results are always available in the <a href="../output/">output window</a>.<ul>
<li>There is a command for showing the output window, allowing for a workflow where you either generally have it closed, or have it as one of the tabs in the same editor group as the files you are working with.</li>
</ul>
</li>
</ul>
</li>
<li><strong>To comments.</strong> This will add the results as line comments below the current line.</li>
<li><strong>Replace the evaluated code.</strong> This will do what it says, the evaluated code will be replaced with its results.</li>
</ol>
<h2 id="wait-current-form-top-level-form">Wait, Current Form? Top-level Form?</h2>
<p>These are important concepts in Calva in order for you to create your most effective workflow.</p>
<h3 id="current-form">Current Form</h3>
<p>Default shortcut for evaluating the current form: <code>ctrl+enter</code>.</p>
<p>The <strong>current form</strong> either means the current selection, or otherwise is based on the cursor position. Play some with the command <strong>Calva: Select current form</strong>, <code>ctrl+alt+c s</code>, to figure out what Calva thinks is the current form for some different situations. Try it inside a symbol, adjacent to a symbol (both sides) and adjacent to an opening or closing bracket (again, both sides). Generally the current form is determined like so:</p>
<ol>
<li>If text is selected, then that text</li>
<li>If the cursor is ”in” a symbol, then that symbol
    <div class="highlight"><pre><span></span><code><span class="nv">foob|ar</span> <span class="c1">; foobar</span>
</code></pre></div></li>
<li>If the cursor is adjacent to a form (a symbol or a list of some kind), then that form
    <div class="highlight"><pre><span></span><code><span class="p">(</span><span class="nf">foo</span> <span class="nv">bar</span> <span class="nv">|</span><span class="p">(</span><span class="nf">baz</span><span class="p">))</span> <span class="c1">; (baz)</span>
</code></pre></div></li>
<li>If the cursor is between to forms, then the left side form
    <div class="highlight"><pre><span></span><code><span class="p">(</span><span class="nf">foo</span> <span class="nv">bar</span> <span class="nv">|</span> <span class="p">(</span><span class="nf">baz</span><span class="p">))</span> <span class="c1">; bar</span>
</code></pre></div></li>
<li>If the cursor is before the first form of a line, then that form
    <div class="highlight"><pre><span></span><code><span class="p">(</span><span class="nf">foo</span>
<span class="nv">|</span> <span class="nv">bar</span> <span class="p">(</span><span class="nf">baz</span><span class="p">))</span> <span class="c1">; bar</span>
</code></pre></div></li>
</ol>
<h3 id="current-top-level-form">Current Top-level Form</h3>
<p>Default shortcut for evaluating the current top level form: <code>alt+enter</code>.</p>
<p>The <strong>current top-level form</strong> means top-level in a structural sense. It is <em>not</em> the topmost form in the file. Typically in a Clojure file you will find <code>def</code> and <code>defn</code> (and <code>defwhatever</code>) forms at the top level, which also is one major intended use for evaluating top level form: <em>to define and redefine variables</em>. However, Calva does not check the contents of the form in order to determine it as a top-level forms: <em>all forms not enclosed in any other form are top level forms</em>.</p>
<p>An ”exception” is introduced by the <code>comment</code> form. It will create a new top level context, so that any forms immediately inside a <code>(commment ...)</code> form will be considered top-level by Calva. This is to support a workflow with what is often referred to the <a href="../rich-comments/">Rich Comments</a>.</p>
<p>At the top level the selection of which form is the current top level form follows the same rules as those for <a href="#current-form">the current form</a>.</p>
<h3 id="evaluate-to-cursor">Evaluate to Cursor</h3>
<p>There is also a command for evaluating the text from the start of the current list to where the cursor is. Convenient for checking intermediate results in thread or <code>doto</code>, or similar pipelines. The cursor is right behind <code>:d</code> in this form:</p>
<div class="highlight"><pre><span></span><code>  <span class="p">(</span><span class="nf">-&gt;&gt;</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">8</span> <span class="mi">13</span> <span class="mi">21</span><span class="p">]</span>
       <span class="p">(</span><span class="nf">partition</span> <span class="mi">2</span><span class="p">)</span>
       <span class="p">(</span><span class="nb">zipmap </span><span class="p">[</span><span class="ss">:a</span> <span class="ss">:b</span> <span class="ss">:c</span> <span class="ss">:d</span><span class="p">])</span>
       <span class="ss">:d|</span> <span class="c1">; =&gt; (12 21)</span>
       <span class="p">(</span><span class="nb">apply </span><span class="nv">-</span><span class="p">)</span>
       <span class="p">(</span><span class="nf">Math/abs</span><span class="p">))</span>
</code></pre></div>
<p>The default shortcut for this command is <code>ctrl+alt+enter</code>.</p>
<h3 id="evaluate-top-level-form-to-cursor">Evaluate Top Level Form to Cursor</h3>
<p>This command has a default shortcut keybinding of <code>shift+alt+enter</code>. It will create a form from the start of the current top level form, up to the cursor, then fold the form, closing all brackets, and this will then be evaluated. Good for examining code blocks up to a certain point.</p>
<p>Take this example and paste it in a file loaded into the REPL, then place the cursor in front of each line comment and try the command.</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="nf">comment</span>
 <span class="p">(</span><span class="nf">do</span>
   <span class="p">(</span><span class="k">def </span><span class="nv">colt-express</span>
     <span class="p">{</span><span class="ss">:name</span> <span class="s">&quot;Colt Express&quot;</span>
      <span class="ss">:categories</span> <span class="p">[</span><span class="s">&quot;Family&quot;</span>
                   <span class="s">&quot;Strategy&quot;</span><span class="p">]</span>
      <span class="ss">:play-time</span> <span class="mi">40</span>
      <span class="ss">:ratings</span> <span class="p">{</span><span class="ss">:pez</span> <span class="mf">5.0</span>
                <span class="ss">:kat</span> <span class="mf">5.0</span>
                <span class="ss">:wiw</span> <span class="mf">5.0</span>   <span class="c1">; 1, then eval `colt-express`</span>
                <span class="ss">:vig</span> <span class="mf">3.0</span>
                <span class="ss">:rex</span> <span class="mf">5.0</span>
                <span class="ss">:lun</span> <span class="mf">4.0</span><span class="p">}})</span>

   <span class="p">(</span><span class="kd">defn </span><span class="nv">average</span> <span class="p">[</span><span class="nv">coll</span><span class="p">]</span>
     <span class="p">(</span><span class="nb">/ </span><span class="p">(</span><span class="nb">apply + </span><span class="nv">coll</span><span class="p">)</span> <span class="p">(</span><span class="nb">count </span><span class="nv">coll</span><span class="p">)))</span>

   <span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">foo-express</span> <span class="p">(</span><span class="nb">-&gt; </span><span class="nv">colt-express</span>
                         <span class="p">(</span><span class="nb">assoc </span><span class="ss">:name</span> <span class="s">&quot;Foo Express&quot;</span><span class="p">)</span>
                         <span class="p">(</span><span class="nf">assoc-in</span> <span class="p">[</span><span class="ss">:ratings</span> <span class="ss">:lyr</span><span class="p">]</span> <span class="mf">5.0</span><span class="p">)</span>
                         <span class="p">(</span><span class="nf">update-in</span> <span class="p">[</span><span class="ss">:ratings</span> <span class="ss">:vig</span><span class="p">]</span> <span class="nv">inc</span><span class="p">))]</span>
     <span class="p">(</span><span class="nf">-&gt;&gt;</span> <span class="nv">foo-express</span>   <span class="c1">; 2</span>
          <span class="ss">:ratings</span>      <span class="c1">; 3</span>
          <span class="nb">vals </span>         <span class="c1">; 4</span>
          <span class="nv">average</span>       <span class="c1">; 5</span>
          <span class="p">))))</span>
</code></pre></div>
<h3 id="evaluate-enclosing-form">Evaluate Enclosing Form</h3>
<p>The default keyboard shortcut for evaluating the current enclosing form (the list the cursor is in) is <code>ctrl+shift+enter</code>.</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">foo</span> <span class="ss">:bar</span><span class="p">]</span>
  <span class="p">(</span><span class="nb">when </span><span class="nv">false</span> <span class="p">(</span><span class="nf">str|</span> <span class="nv">foo</span><span class="p">)))</span> <span class="c1">; =&gt; &quot;:bar&quot;</span>
</code></pre></div>
<h3 id="copying-the-inline-results">Copying the inline results</h3>
<p>There is a command called <strong>Copy last evaluation results</strong>, <code>ctrl+alt+c ctrl+c</code>.</p>
<p>This works regardless if you have evaluated in a file editor or in a REPL window.</p>
<h2 id="evaluating-in-a-repl-window">Evaluating in a REPL window</h2>
<p>Since the REPL Window is mostly just a regular file, things work pretty similar at the REPL prompt. You use <code>alt+enter</code> to evaluate. Selecting the current form (default key binding <code>ctrl+w</code> on Mac and <code>shift+alt+right</code> on Windows and Linux) after evaluating will select the result.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../commands-top10/" title="The Top 10 Calva Commands" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                The Top 10 Calva Commands
              </div>
            </div>
          </a>
        
        
          <a href="../rich-comments/" title="Rich Comments Support" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Rich Comments Support
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" /></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.f45d2d8d.min.js"></script>
      <script src="../assets/javascripts/bundle.74d0b805.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.7f7c8775.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>