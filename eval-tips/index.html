
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Calva goes to great lengths to make it easy to evaluate code, supporting interactive development">
      
      
      
        <link rel="canonical" href="https://calva.io/eval-tips/">
      
      
        <link rel="prev" href="../finding-commands/">
      
      
        <link rel="next" href="../why-calva/">
      
      
      <link rel="icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.16">
    
    
      
        <title>Evaluate Clojure Code - Calva User Guide</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bcfcd587.min.css">
      
      


    
    
  
      
    
  
    <script defer data-domain="calva.io" src="https://plausible.io/js/script.js"></script>
  

    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","UA-69796730-5"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","UA-69796730-5",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=UA-69796730-5",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Evaluate Clojure Code - Calva User Guide" >
      
        <meta  property="og:description"  content="Calva goes to great lengths to make it easy to evaluate code, supporting interactive development" >
      
        <meta  property="og:image"  content="https://calva.io/assets/images/social/eval-tips.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://calva.io/eval-tips/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Evaluate Clojure Code - Calva User Guide" >
      
        <meta  name="twitter:description"  content="Calva goes to great lengths to make it easy to evaluate code, supporting interactive development" >
      
        <meta  name="twitter:image"  content="https://calva.io/assets/images/social/eval-tips.png" >
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#code-evaluation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Calva User Guide" class="md-header__button md-logo" aria-label="Calva User Guide" data-md-component="logo">
      
  <img src="../img/calva-symbol-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Calva User Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Evaluate Clojure Code
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/BetterThanTomorrow/calva" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Calva
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Calva User Guide" class="md-nav__button md-logo" aria-label="Calva User Guide" data-md-component="logo">
      
  <img src="../img/calva-symbol-white.svg" alt="logo">

    </a>
    Calva User Guide
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/BetterThanTomorrow/calva" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Calva
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clojure Interactive Programming for Visual Studio Code
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Start Here
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Start Here
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get Started with Calva
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connect the REPL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../try-first/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Try this First
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../finding-commands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Finding Calva Commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Evaluate Clojure Code
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Evaluate Clojure Code
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#interruptingstopping-running-evaluations" class="md-nav__link">
    <span class="md-ellipsis">
      Interrupting/stopping running evaluations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluation-in-a-file-editor" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluation in a File Editor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wait-current-form-top-level-form" class="md-nav__link">
    <span class="md-ellipsis">
      Wait, Current Form? Top-level Form?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Wait, Current Form? Top-level Form?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#current-form" class="md-nav__link">
    <span class="md-ellipsis">
      Current Form
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#current-top-level-form" class="md-nav__link">
    <span class="md-ellipsis">
      Current Top-level Form
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate-enclosing-form" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluate Enclosing Form
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate-to-cursor" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluate to Cursor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate-from-start-of-list-to-cursor-closing-brackets" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluate From Start of List to Cursor, Closing Brackets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate-selection-closing-brackets" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluate Selection, Closing Brackets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate-from-start-of-top-level-form-to-cursor-closing-brackets" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluate From Start of Top Level Form to Cursor, Closing Brackets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate-from-start-of-file-to-cursor-closing-brackets" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluate From Start of File to Cursor, Closing Brackets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#copying-the-inline-results" class="md-nav__link">
    <span class="md-ellipsis">
      Copying the inline results
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluating-in-a-repl-window" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluating in a REPL window
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../why-calva/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Why you should consider Calva
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Features
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Features
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../commands-top10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Top 10 Commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../evaluation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluate Clojure Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../formatting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clojure Formatting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../syntax-highlighting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clojure Syntax Highlighting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../paredit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paredit, a Visual Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Superb Clojure Linting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../repl-window/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The REPL Window
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../output/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluation results and outher output
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../inspector/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inspect Evaluation Results and more
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fiddle-files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fiddle Files Support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../refactoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Refactoring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../custom-commands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom REPL Commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connect-sequences/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom REPL Connect Sequences
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clojure Notebooks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../clojuredocs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ClojureDocs Integration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debugger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugger
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pprint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pretty Printing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test-runner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Runner
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rich-comments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rich Comments Support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../namespace-form-auto-creation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Namespace Form Auto-creation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hiccup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Converting HTML to Hiccup
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Customizing Calva
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Customizing Calva
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../customizing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customizing Calva
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../customizing-jack-in-and-connect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customize Jack-in and Connect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../when-clauses/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Calva When Clause Contexts
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../clojure-lsp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    clojure-lsp
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../nrepl_and_cider-nrepl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nREPL and cider-nrepl
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Using Calva with ...
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Using Calva with ...
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../shadow-cljs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    shadow-cljs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../wsl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WSL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../remote-development/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VS Code Remote Development
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../live-share/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Live Share
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vim/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VIM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reveal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reveal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../babashka/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Babashka
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nbb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nbb
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../basilisp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basilisp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../joyride/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Joyride
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../clojuredart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ClojureDart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../luminus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Luminus
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../re-frame-template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The re-frame template
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../polylith/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Polylith
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../krell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Krell
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rebl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    REBL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parinfer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parinfer
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tips and Tricks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Tips and Tricks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../emacs-keybindings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Emacs Keybindings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workspace-layouts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workspace Layouts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quirks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quirks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../async-out/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Viewing Async Output with Shadow-CLJS and Node
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../clj-java-decompiler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add custom commands for decompiling generated Clojure code
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extension API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../commands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Calva Commands
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    In Depth
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            In Depth
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jack-in-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Jack-in Academy
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../get-started-with-clojure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get Started with Clojure
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tao/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Tao of Calva
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contribute to Calva
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../sponsors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Calva Sponsors
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../merch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Calva T-shirts and Stickers!
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#interruptingstopping-running-evaluations" class="md-nav__link">
    <span class="md-ellipsis">
      Interrupting/stopping running evaluations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluation-in-a-file-editor" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluation in a File Editor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wait-current-form-top-level-form" class="md-nav__link">
    <span class="md-ellipsis">
      Wait, Current Form? Top-level Form?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Wait, Current Form? Top-level Form?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#current-form" class="md-nav__link">
    <span class="md-ellipsis">
      Current Form
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#current-top-level-form" class="md-nav__link">
    <span class="md-ellipsis">
      Current Top-level Form
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate-enclosing-form" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluate Enclosing Form
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate-to-cursor" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluate to Cursor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate-from-start-of-list-to-cursor-closing-brackets" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluate From Start of List to Cursor, Closing Brackets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate-selection-closing-brackets" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluate Selection, Closing Brackets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate-from-start-of-top-level-form-to-cursor-closing-brackets" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluate From Start of Top Level Form to Cursor, Closing Brackets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate-from-start-of-file-to-cursor-closing-brackets" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluate From Start of File to Cursor, Closing Brackets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#copying-the-inline-results" class="md-nav__link">
    <span class="md-ellipsis">
      Copying the inline results
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluating-in-a-repl-window" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluating in a REPL window
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="code-evaluation">Code Evaluation<a class="headerlink" href="#code-evaluation" title="Permanent link">#</a></h1>
<p>Calva tries to make it easy to evaluate code, supporting interactive development. The fastest path to learning about it is to use the <strong>Fire up the Getting Started REPL</strong> command, which you can learn more about in the <a href="../getting-started/">Getting Started</a> section.</p>
<p>NB: <em>The below assumes you have read about <a href="../finding-commands/">Finding Calva Commands and Shortcuts</a>.</em></p>
<h2 id="interruptingstopping-running-evaluations">Interrupting/stopping running evaluations<a class="headerlink" href="#interruptingstopping-running-evaluations" title="Permanent link">#</a></h2>
<p>Sometimes you evaluate things that take a very long time to complete, or might not even ever complete (infinite loops, lazy sequences, things like that). Calva has a command for interrupting running evaluations. You find it in the VS Code command palette, as well as in the REPL status bar item menu, when the REPL is connected.</p>
<h2 id="evaluation-in-a-file-editor">Evaluation in a File Editor<a class="headerlink" href="#evaluation-in-a-file-editor" title="Permanent link">#</a></h2>
<p>Calva has many commands for evaluating forms, including the <strong>current form</strong> and the <strong>current top-level form</strong>.</p>
<p>Some of the commands also let you choose what should happen with the results:</p>
<ol>
<li><strong>Inline.</strong> This will display the results (or some of it, if it is long) inline in the editor.</li>
<li>This also creates a hover pane including the full results and a button which will copy the results to the clipboard.</li>
<li>There is also a command for copying the last result to the clipboard.</li>
<li>The full results are always available in the <a href="../output/">output window</a>.<ul>
<li>There is a command for showing the output window, allowing for a workflow where you either generally have it closed, or have it as one of the tabs in the same editor group as the files you are working with.</li>
</ul>
</li>
<li><strong>To comments.</strong> This will add the results as line comments below the current line.</li>
<li><strong>Replace the evaluated code.</strong> This will do what it says, the evaluated code will be replaced with its results.</li>
</ol>
<h2 id="wait-current-form-top-level-form">Wait, Current Form? Top-level Form?<a class="headerlink" href="#wait-current-form-top-level-form" title="Permanent link">#</a></h2>
<p>These are important concepts in Calva in order for you to create your most effective workflow. This video explains it a bit:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/8ygw7LLLU1w" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h3 id="current-form">Current Form<a class="headerlink" href="#current-form" title="Permanent link">#</a></h3>
<p>Default shortcut for evaluating the current form: <code>ctrl+enter</code>.</p>
<p>The <strong>current form</strong> either means the current selection, or otherwise is based on the cursor position. Play some with the command <strong>Calva: Select current form</strong>, <code>ctrl+alt+c s</code>, to figure out what Calva thinks is the current form for some different situations. Try it inside a symbol, adjacent to a symbol (both sides) and adjacent to an opening or closing bracket (again, both sides). Generally the current form is determined like so:</p>
<ol>
<li>If text is selected, then that text</li>
<li>If the cursor is ”in” a symbol, then that symbol
   <div class="highlight"><pre><span></span><code><span class="nv">foob|ar</span><span class="w"> </span><span class="c1">; foobar</span>
</code></pre></div></li>
<li>If the cursor is adjacent to a form (a symbol or a list of some kind), then that form
   <div class="highlight"><pre><span></span><code><span class="p">(</span><span class="nf">foo</span><span class="w"> </span><span class="nv">bar</span><span class="w"> </span><span class="nv">|</span><span class="p">(</span><span class="nf">baz</span><span class="p">))</span><span class="w"> </span><span class="c1">; (baz)</span>
</code></pre></div></li>
<li>If the cursor is between to forms, then the left side form
   <div class="highlight"><pre><span></span><code><span class="p">(</span><span class="nf">foo</span><span class="w"> </span><span class="nv">bar</span><span class="w"> </span><span class="nv">|</span><span class="w"> </span><span class="p">(</span><span class="nf">baz</span><span class="p">))</span><span class="w"> </span><span class="c1">; bar</span>
</code></pre></div></li>
<li>If the cursor is before the first form of a line, then that form
   <div class="highlight"><pre><span></span><code><span class="p">(</span><span class="nf">foo</span>
<span class="nv">|</span><span class="w"> </span><span class="nv">bar</span><span class="w"> </span><span class="p">(</span><span class="nf">baz</span><span class="p">))</span><span class="w"> </span><span class="c1">; bar</span>
</code></pre></div></li>
</ol>
<h3 id="current-top-level-form">Current Top-level Form<a class="headerlink" href="#current-top-level-form" title="Permanent link">#</a></h3>
<p>Default shortcut for evaluating the current top level form: <code>alt+enter</code>.</p>
<p>The <strong>current top-level form</strong> means top-level in a structural sense. It is <em>not</em> the topmost form in the file. Typically in a Clojure file you will find <code>def</code> and <code>defn</code> (and <code>defwhatever</code>) forms at the top level, which also is one major intended use for evaluating top level form: <em>to define and redefine variables</em>. However, Calva does not check the contents of the form in order to determine it as a top-level forms: <em>all forms not enclosed in any other form are top level forms</em>.</p>
<p>An ”exception” is introduced by the <code>comment</code> form. It will create a new top level context, so that any forms immediately inside a <code>(comment ...)</code> form will be considered top-level by Calva. This is to support a workflow with what is often referred to the <a href="../rich-comments/">Rich Comments</a>.</p>
<p>At the top level the selection of which form is the current top level form follows the same rules as those for <a href="#current-form">the current form</a>.</p>
<h3 id="evaluate-enclosing-form">Evaluate Enclosing Form<a class="headerlink" href="#evaluate-enclosing-form" title="Permanent link">#</a></h3>
<p>The default keyboard shortcut for evaluating the current enclosing form (the list the cursor is in) is <code>ctrl+shift+enter</code>.</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">foo</span><span class="w"> </span><span class="ss">:bar</span><span class="p">]</span>
<span class="w">  </span><span class="p">(</span><span class="nb">when </span><span class="nv">false</span><span class="w"> </span><span class="p">(</span><span class="nf">str|</span><span class="w"> </span><span class="nv">foo</span><span class="p">)))</span><span class="w"> </span><span class="c1">; =&gt; &quot;:bar&quot;</span>
</code></pre></div>
<h3 id="evaluate-to-cursor">Evaluate to Cursor<a class="headerlink" href="#evaluate-to-cursor" title="Permanent link">#</a></h3>
<p>There are several commands for evaluating a piece of code, closing brackets. It's good, especially in threads, but can also come in handy in other situations, for instance when you want to evaluate something that depends on bindings, such as in a <code>let</code> form.</p>
<h3 id="evaluate-from-start-of-list-to-cursor-closing-brackets">Evaluate From Start of List to Cursor, Closing Brackets<a class="headerlink" href="#evaluate-from-start-of-list-to-cursor-closing-brackets" title="Permanent link">#</a></h3>
<p>This command evaluates the text from the start of the current enclosing list to where the cursor is, and it adds the missing closing bracket for you. Convenient for checking intermediate results in thread or <code>doto</code>, or similar pipelines. The cursor is right behind <code>:d</code> in this form:</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="p">(</span><span class="nf">-&gt;&gt;</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="mi">21</span><span class="p">]</span>
<span class="w">       </span><span class="p">(</span><span class="nf">partition</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">       </span><span class="p">(</span><span class="nb">zipmap </span><span class="p">[</span><span class="ss">:a</span><span class="w"> </span><span class="ss">:b</span><span class="w"> </span><span class="ss">:c</span><span class="w"> </span><span class="ss">:d</span><span class="p">])</span>
<span class="w">       </span><span class="ss">:d|</span><span class="w"> </span><span class="c1">; =&gt; (13 21)</span>
<span class="w">       </span><span class="p">(</span><span class="nb">apply </span><span class="nv">-</span><span class="p">)</span>
<span class="w">       </span><span class="p">(</span><span class="nf">Math/abs</span><span class="p">))</span>
</code></pre></div>
<p>The default shortcut for this command is <kbd>ctrl+alt+enter</kbd>.</p>
<h3 id="evaluate-selection-closing-brackets">Evaluate Selection, Closing Brackets<a class="headerlink" href="#evaluate-selection-closing-brackets" title="Permanent link">#</a></h3>
<p>This is the most versatile of the ”evaluation, closing brackets” commands. It will do what it says. 😄 It's extra handy in combination with the command <strong>Paredit: Select Backward Up Sexp/Form</strong> (<kbd>shift+ctrl+up</kbd>). Consider this contrieved form (buggy code, because it was supposed to result in <code>42</code>, not <code>-42</code>):</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="kd">defn </span><span class="nv">fortytwo-from-thirty</span>
<span class="w">  </span><span class="p">[]</span>
<span class="w">  </span><span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">thirty</span><span class="w"> </span><span class="mi">30</span><span class="p">]</span>
<span class="w">    </span><span class="p">(</span><span class="nb">-&gt; </span><span class="nv">thirty</span>
<span class="w">        </span><span class="nb">inc </span><span class="w">           </span><span class="c1">;1</span>
<span class="w">        </span><span class="p">(</span><span class="nf">send-off</span><span class="p">)</span>
<span class="w">        </span><span class="p">(</span><span class="nb">+ </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="w">        </span><span class="p">(</span><span class="nf">-&gt;&gt;</span>
<span class="w">         </span><span class="p">(</span><span class="nb">+ </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">       </span><span class="c1">;2</span>
<span class="w">         </span><span class="p">(</span><span class="nf">+</span><span class="p">))</span>
<span class="w">        </span><span class="nv">list</span>
<span class="w">        </span><span class="p">(</span><span class="nf">-&gt;&gt;</span>
<span class="w">         </span><span class="p">(</span><span class="nb">into </span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="w">         </span><span class="p">(</span><span class="nb">reduce + </span><span class="mi">1</span><span class="p">))</span>
<span class="w">        </span><span class="p">(</span><span class="nb">- </span><span class="mi">1</span><span class="p">)</span><span class="w">          </span><span class="c1">;3</span>
<span class="w">        </span><span class="p">(</span><span class="nb">* </span><span class="mi">-1</span><span class="p">))))</span>
</code></pre></div>
<p>At <code>;1</code>, you can do <strong>backward up sexp</strong> (<kbd>shift+ctrl+up</kbd>) twice to select up to the <code>(let ..)</code>, then issue <strong>Evaluate Selection, Closing Brackets</strong>. It has the same default keybinding as the command for <a href="#evaluate-from-start-of-list-to-cursor-closing-brackets">evaluating the current list up to the cursor</a>: <kbd>ctrl+alt+enter</kbd>.</p>
<p>At <code>;2</code> you need select backwards up three times.</p>
<p><code>;3</code> is included because it is close to the bug. (Which was introduced when the thread-last, <code>-&gt;&gt;</code> was added to make this example.) Please practice the <strong>Evaluate Selection, Closing Brackets</strong> command to fix the bug.</p>
<h3 id="evaluate-from-start-of-top-level-form-to-cursor-closing-brackets">Evaluate From Start of Top Level Form to Cursor, Closing Brackets<a class="headerlink" href="#evaluate-from-start-of-top-level-form-to-cursor-closing-brackets" title="Permanent link">#</a></h3>
<p>This command has a default shortcut keybinding of <code>shift+alt+enter</code>. It will create a form from the start of the current top level form, up to the cursor, close all brackets, and this will then be evaluated. Good for examining code blocks up to a certain point. Often comes in handy in Rich comments (<code>(comment ...)</code>).</p>
<p>Take this example and paste it in a file loaded into the REPL, then place the cursor in front of each line comment and try the command.</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="nf">comment</span>
<span class="w"> </span><span class="p">(</span><span class="nf">do</span>
<span class="w">   </span><span class="p">(</span><span class="k">def </span><span class="nv">colt-express</span>
<span class="w">     </span><span class="p">{</span><span class="ss">:name</span><span class="w"> </span><span class="s">&quot;Colt Express&quot;</span>
<span class="w">      </span><span class="ss">:categories</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;Family&quot;</span>
<span class="w">                   </span><span class="s">&quot;Strategy&quot;</span><span class="p">]</span>
<span class="w">      </span><span class="ss">:play-time</span><span class="w"> </span><span class="mi">40</span>
<span class="w">      </span><span class="ss">:ratings</span><span class="w"> </span><span class="p">{</span><span class="ss">:pez</span><span class="w"> </span><span class="mf">5.0</span>
<span class="w">                </span><span class="ss">:kat</span><span class="w"> </span><span class="mf">5.0</span>
<span class="w">                </span><span class="ss">:wiw</span><span class="w"> </span><span class="mf">5.0</span><span class="w">   </span><span class="c1">; 1, then eval `colt-express`</span>
<span class="w">                </span><span class="ss">:vig</span><span class="w"> </span><span class="mf">3.0</span>
<span class="w">                </span><span class="ss">:rex</span><span class="w"> </span><span class="mf">5.0</span>
<span class="w">                </span><span class="ss">:lun</span><span class="w"> </span><span class="mf">4.0</span><span class="p">}})</span>

<span class="w">   </span><span class="p">(</span><span class="kd">defn </span><span class="nv">average</span><span class="w"> </span><span class="p">[</span><span class="nv">coll</span><span class="p">]</span>
<span class="w">     </span><span class="p">(</span><span class="nb">/ </span><span class="p">(</span><span class="nb">apply + </span><span class="nv">coll</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">count </span><span class="nv">coll</span><span class="p">)))</span>

<span class="w">   </span><span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">foo-express</span><span class="w"> </span><span class="p">(</span><span class="nb">-&gt; </span><span class="nv">colt-express</span>
<span class="w">                         </span><span class="p">(</span><span class="nb">assoc </span><span class="ss">:name</span><span class="w"> </span><span class="s">&quot;Foo Express&quot;</span><span class="p">)</span>
<span class="w">                         </span><span class="p">(</span><span class="nf">assoc-in</span><span class="w"> </span><span class="p">[</span><span class="ss">:ratings</span><span class="w"> </span><span class="ss">:lyr</span><span class="p">]</span><span class="w"> </span><span class="mf">5.0</span><span class="p">)</span>
<span class="w">                         </span><span class="p">(</span><span class="nf">update-in</span><span class="w"> </span><span class="p">[</span><span class="ss">:ratings</span><span class="w"> </span><span class="ss">:vig</span><span class="p">]</span><span class="w"> </span><span class="nv">inc</span><span class="p">))]</span>
<span class="w">     </span><span class="p">(</span><span class="nf">-&gt;&gt;</span><span class="w"> </span><span class="nv">foo-express</span><span class="w">   </span><span class="c1">; 2</span>
<span class="w">          </span><span class="ss">:ratings</span><span class="w">      </span><span class="c1">; 3</span>
<span class="w">          </span><span class="nb">vals </span><span class="w">         </span><span class="c1">; 4</span>
<span class="w">          </span><span class="nv">average</span><span class="w">       </span><span class="c1">; 5</span>
<span class="w">          </span><span class="p">))))</span>
</code></pre></div>
<h3 id="evaluate-from-start-of-file-to-cursor-closing-brackets">Evaluate From Start of File to Cursor, Closing Brackets<a class="headerlink" href="#evaluate-from-start-of-file-to-cursor-closing-brackets" title="Permanent link">#</a></h3>
<p>Yup, that command also exists. 😄</p>
<h2 id="copying-the-inline-results">Copying the inline results<a class="headerlink" href="#copying-the-inline-results" title="Permanent link">#</a></h2>
<p>There is a command called <strong>Copy last evaluation results</strong>, <code>ctrl+alt+c ctrl+c</code>.</p>
<p>This works regardless if you have evaluated in a file editor or in a REPL window.</p>
<h2 id="evaluating-in-a-repl-window">Evaluating in a REPL window<a class="headerlink" href="#evaluating-in-a-repl-window" title="Permanent link">#</a></h2>
<p>Since the REPL Window is mostly just a regular file, things work pretty similar at the REPL prompt. You use <code>alt+enter</code> to evaluate. Selecting the current form (default key binding <code>ctrl+w</code> on Mac and <code>shift+alt+right</code> on Windows and Linux) after evaluating will select the result.</p>







  
  



  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["search.share", "content.tabs.link"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.bd41221c.min.js"></script>
      
    
  </body>
</html>